<div class="group">
  <div class="group__head">
    <h2 class="group-title">
      @if (type === 'group') {
        <i class="group-title__icon icon-group"></i>
        GROUPS
      } @else {
        <i class="group-title__icon icon-user"></i>
        PEOPLE
      }
    </h2>
    <div class="group__head-btn-wrapper">
      <button type="button"
              class="group-btn"
              *ngIf="type === 'group'"
              (click)="toggleModal()">
        <i class="icon-plus group-btn__icon"></i>
        create
      </button>
      <button type="button"
              class="group-btn"
              [disabled]="isUpdate"
              (click)="updateGroupTimer()">
        <i class="icon-update group-btn__icon"></i>
        <span class="group-btn__text">{{timer}}</span>
      </button>
    </div>
  </div>
  <div class="group__body">
    @for (item of items; track item) {
      <app-group-card [item]="item" (targetDelete)="updateState()"></app-group-card>
    }
  </div>

  <div class="group-modal" *ngIf="isShowModal">
    <h3 class="group-title">
      <i class="icon-plus group-title__icon"></i>
      New group
    </h3>
    <div class="field">
      <label class="field__label" for="group">group name</label>
      <input type="text"
             class="field__input"
             name="group"
             [(ngModel)]="newGroupName"
             id="group">
      <span class="field__error" *ngIf="newGroupError">{{ newGroupError }}</span>
    </div>
    <div class="form-btn-wrapper">
      <button type="button"
              class="form-btn-text td-none"
              (click)="toggleModal()">Cancel</button>
      <button type="button"
              class="form-btn"
              [disabled]="isSend"
              [ngClass]="{'form-btn--load': isSend}"
              (click)="createGroup()">Create</button>
    </div>
  </div>
</div>
